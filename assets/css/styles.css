:root {
  --alive-bg-1: 255, 84, 98;   /* 粉珊瑚 */
  --alive-bg-2: 99, 132, 255;  /* 靛蓝 */
  --alive-bg-3: 60, 220, 170;  /* 薄荷绿 */
  --card-bg: 255, 255, 255;
  --glass: 255, 255, 255;
  --ink: 20, 24, 28;
  --ink-muted: 100, 110, 120;
  --accent: 70, 110, 255;
  --danger: 226, 68, 92;
  --curve-radius: 22px; /* G2 连续曲线风格的大圆角 */
  --shadow: 0 10px 30px rgba(0, 0, 0, 0.12), 0 5px 15px rgba(0, 0, 0, 0.08);
  --bezier: cubic-bezier(0.22, 0.61, 0.36, 1); /* 平滑连续曲线运动 */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Micro Hei", Arial, "Noto Sans CJK SC", sans-serif;
  color: rgb(var(--ink));
  background: radial-gradient(1200px 800px at 20% 10%, rgba(var(--alive-bg-1), 0.18), transparent 60%),
              radial-gradient(1000px 700px at 80% 20%, rgba(var(--alive-bg-2), 0.16), transparent 60%),
              radial-gradient(900px 900px at 50% 90%, rgba(var(--alive-bg-3), 0.14), transparent 60%),
              #0e1116;
}

.alive-bg { position: fixed; inset: 0; overflow: hidden; z-index: -1; }
.blob {
  position: absolute; width: 500px; height: 500px; border-radius: 50%; filter: blur(60px);
  opacity: 0.65; mix-blend-mode: screen; animation: float 18s var(--bezier) infinite;
}
.blob-1 { left: -120px; top: -120px; background: radial-gradient(circle at 30% 30%, rgba(var(--alive-bg-1), .8), rgba(var(--alive-bg-1), .3)); }
.blob-2 { right: -140px; top: 0; background: radial-gradient(circle at 30% 30%, rgba(var(--alive-bg-2), .8), rgba(var(--alive-bg-2), .3)); animation-delay: -6s; }
.blob-3 { left: 40%; bottom: -160px; background: radial-gradient(circle at 30% 30%, rgba(var(--alive-bg-3), .8), rgba(var(--alive-bg-3), .3)); animation-delay: -12s; }
@keyframes float {
  0%, 100% { transform: translate3d(0, 0, 0) scale(1); }
  50% { transform: translate3d(0, -30px, 0) scale(1.06); }
}

.app-header {
  position: sticky; top: 0; z-index: 5; backdrop-filter: saturate(1.4) blur(10px);
  background: linear-gradient(180deg, rgba(16, 20, 26, .7), rgba(16, 20, 26, .35));
  border-bottom: 1px solid rgba(255, 255, 255, .06);
  padding: 14px 24px; display: flex; align-items: center; justify-content: space-between;
}
.brand { display: flex; align-items: center; gap: 12px; }
.brand-mark { width: 28px; height: 28px; border-radius: 12px;
  background: conic-gradient(from 0deg, rgba(var(--alive-bg-1), 1), rgba(var(--alive-bg-2), 1), rgba(var(--alive-bg-3), 1), rgba(var(--alive-bg-1), 1));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.25), 0 6px 18px rgba(0,0,0,.25);
}
.app-header h1 { margin: 0; font-size: 20px; font-weight: 700; letter-spacing: .3px; color: #fff; }
.app-nav .nav-link { color: #e9f0ff; text-decoration: none; font-weight: 600; padding: 8px 14px; border-radius: 999px; border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.06); transition: all .4s var(--bezier); }
.app-nav .nav-link:hover { transform: translateY(-1px); background: rgba(255,255,255,.12); }

.layout { display: grid; grid-template-columns: minmax(0, 1fr) 320px; gap: 22px; padding: 24px; max-width: 1280px; margin: 0 auto; }
.layout.admin { grid-template-columns: 1fr; max-width: 1100px; }

.catalog { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 18px; align-content: start; align-items: stretch; }

.summary { position: sticky; top: 80px; height: fit-content; z-index: 2; isolation: isolate; }
.summary-inner { border-radius: var(--curve-radius); background: rgba(var(--glass), .08);
  backdrop-filter: saturate(1.3) blur(18px); border: 1px solid rgba(255,255,255,.16); box-shadow: var(--shadow);
  padding: 18px; color: #f5f7fb; }
.summary-inner h2 { margin: 0 0 10px; font-size: 18px; }
.summary-list { display: flex; flex-direction: column; gap: 10px; max-height: 50vh; overflow: auto; padding-right: 6px; }
.summary-item { display: grid; grid-template-columns: 1fr auto auto; gap: 10px; align-items: baseline; font-size: 14px; color: #eaf0ff; }
.summary-item .muted { color: rgba(255,255,255,.7); }
.summary-total { display: flex; justify-content: space-between; align-items: center; padding-top: 12px; margin-top: 12px; border-top: 1px dashed rgba(255,255,255,.2); }
.summary-actions { margin-top: 12px; display: flex; gap: 10px; }
.summary-note { margin: 10px 0 0; color: rgba(255,255,255,.75); font-size: 12px; }

.card {
  display: grid; grid-template-rows: 140px auto; border-radius: calc(var(--curve-radius) + 6px);
  background: rgba(var(--card-bg), .08);
  backdrop-filter: blur(12px) saturate(1.1);
  border: 1px solid rgba(255,255,255,.16);
  box-shadow: var(--shadow);
  transition: transform .5s var(--bezier), box-shadow .5s var(--bezier), background .5s var(--bezier);
  position: relative; overflow: hidden; z-index: 1;
}
.card:hover { transform: translateY(-4px); background: rgba(var(--card-bg), .12); box-shadow: 0 15px 40px rgba(0,0,0,.18); }
.card-media { position: relative; overflow: hidden; border-top-left-radius: inherit; border-top-right-radius: inherit; display: flex; align-items: center; justify-content: center; }
.card-media::after { content: ""; position: absolute; inset: 0; background: radial-gradient(60% 60% at 70% 10%, rgba(255,255,255,.25), transparent);
}
.card-img { width: 100%; height: 100%; object-fit: contain; object-position: center; display: block; background: rgba(255,255,255,.02); }
.card-body { padding: 12px 14px 16px; display: grid; gap: 8px; min-width: 0; }
.card-title { margin: 0; font-size: 16px; font-weight: 700; letter-spacing: .2px; color: #fdfdfd; }
.card-meta .price { color: #eaf0ff; font-weight: 600; }

.quantity { display: grid; grid-template-columns: 36px minmax(0, 1fr) 36px; gap: 8px; align-items: center; min-width: 0; width: 100%; }
.qty-btn { height: 36px; border-radius: 12px; border: 1px solid rgba(255,255,255,.18); background: rgba(255,255,255,.08); color: #fff; font-size: 16px; cursor: pointer; transition: transform .2s var(--bezier), background .3s var(--bezier); }
.qty-btn:hover { transform: translateY(-1px); background: rgba(255,255,255,.14); }
.qty-input { height: 36px; border-radius: 12px; border: 1px solid rgba(255,255,255,.18); background: rgba(255,255,255,.06); color: #fff; text-align: center; font-weight: 700; font-size: 14px; outline: none; transition: box-shadow .3s var(--bezier), background .3s var(--bezier); width: 100%; min-width: 0; }
.qty-input:focus { box-shadow: 0 0 0 3px rgba(var(--accent), .35); background: rgba(255,255,255,.12); }

.btn { padding: 8px 12px; border-radius: 999px; border: 1px solid rgba(255,255,255,.2); background: rgba(255,255,255,.08); color: #fff; cursor: pointer; font-weight: 600; transition: transform .2s var(--bezier), background .3s var(--bezier); }
.btn:hover { transform: translateY(-1px); background: rgba(255,255,255,.16); }
.btn.primary { border-color: rgba(var(--accent), .5); background: linear-gradient(180deg, rgba(var(--accent), .85), rgba(var(--accent), .65)); }
.btn.danger { border-color: rgba(var(--danger), .5); background: linear-gradient(180deg, rgba(var(--danger), .85), rgba(var(--danger), .65)); }
.btn.small { padding: 6px 10px; font-size: 12px; }

.panel { border-radius: calc(var(--curve-radius) + 6px); padding: 18px; }
.glass { background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.16); backdrop-filter: blur(14px) saturate(1.2); box-shadow: var(--shadow); }
.panel-head { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
.toolbar { display: flex; gap: 10px; }

.form-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 12px; }
.form-grid label { display: grid; gap: 6px; font-size: 14px; color: #eaf0ff; }
.form-grid label.full { grid-column: 1 / -1; }
.form-grid input { height: 40px; border-radius: 14px; border: 1px solid rgba(255,255,255,.18); background: rgba(255,255,255,.08); color: #fff; padding: 0 12px; outline: none; }
.form-grid input:focus { box-shadow: 0 0 0 3px rgba(var(--accent), .35); }
.form-actions { display: flex; gap: 10px; grid-column: 1 / -1; }

.items-table { display: grid; gap: 0; background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.14); border-radius: 18px; overflow: hidden; }
.table-row { display: grid; grid-template-columns: 64px 1.2fr .8fr 2fr auto; gap: 12px; align-items: center; padding: 12px 14px; background: transparent; border-bottom: 1px solid rgba(255,255,255,.08); }
.table-row:last-child { border-bottom: none; }
.table-row.header { background: rgba(255,255,255,.08); border-bottom: 1px solid rgba(255,255,255,.12); font-weight: 600; }
.cell { color: #f4f7ff; font-size: 14px; }
.cell.media { display: flex; align-items: center; }
.cell .thumb { width: 52px; height: 52px; object-fit: cover; border-radius: 12px; border: 1px solid rgba(255,255,255,.18); background: rgba(255,255,255,.08); }
.cell.actions { display: flex; gap: 8px; justify-content: flex-end; }
.cell.path { color: rgba(255,255,255,.85); font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size: 12px; }

/* 响应式 */
@media (max-width: 1024px) {
  .layout { grid-template-columns: 1fr; }
  .summary { position: relative; top: 0; }
}
@media (max-width: 520px) {
  .catalog { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
  .table-row { grid-template-columns: 52px 1fr; grid-auto-rows: auto; }
  .cell.actions { grid-column: 1 / -1; }
  .cell.path { grid-column: 1 / -1; }
}


